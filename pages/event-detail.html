<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <title>聚會活動詳細頁-報名</title>
    <!-- 在 head 區塊引入 SweetAlert2 CDN -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  </head>
  <body class="text-n500 t1">
    <div class="phone">
      <div class="screen">
        <main class="main main-mb header-bar-mt-ai">
          <div class="container-fluid">
            <div class="header-bar">
              <%- include('./layout/header'); -%>

              <section class="d-flex align-items-center py-2 mx-2 mb-4">
                <a class="ai-topbar-item" href="index.html"
                  ><img
                    src="../assets/images/icon/arrow-left.svg"
                    alt="arrow-left.svg"
                /></a>

                <span class="t1b me-auto"></span>

                <a class="ai-topbar-item" href="#">
                  <img
                    class="bookmark-btn"
                    src="../assets/images/icon/share-rounded.svg"
                    alt="share.svg"
                  />
                </a>
                <a class="ai-topbar-item" href="#">
                  <img
                    class="bookmark-btn"
                    src="../assets/images/icon/collect-btn-navbar.svg"
                    alt="bookmark_default.svg"
                  />
                  <img
                    class="bookmark-btn"
                    src="../assets/images/icon/collect-btn-default.svg"
                    alt="bookmark_active.svg"
                  />
                </a>
              </section>

              <!-- 活動標題 -->
              <section class="px-3 mb-3">
                <h1 class="mb-2 t1b text-t500 fs-5">來一口微醺 再認識你</h1>
                <div class="d-flex align-items-center">
                  <img
                    src="../assets/images/event/報名者-05.svg"
                    alt="mandy"
                    class="avatar-sm me-2"
                  />
                  <div class="d-flex flex-column">
                    <span class="t3">Mandy</span>
                    <span class="t4 text-n300">昨天00:13</span>
                  </div>
                </div>
              </section>
            </div>

            <!-- 主圖 -->
            <section>
              <img
                src="../assets/images/event/貼文照片.svg"
                alt="activity"
                class="w-100 mx-auto"
                width="363"
                height="363"
              />
            </section>

            <!-- 標籤 -->
            <section class="d-flex t3 gap-2 mb-4">
              <span class="card-tag-primary">單身限定</span>
              <span class="card-tag-primary">女性優先</span>
            </section>

            <!-- 活動基本資訊 -->
            <section class="mb-4">
              <h2 class="mb-2 t1b">活動基本資訊</h2>
              <ul class="list-unstyled mb-0 t2">
                <li class="d-flex t2 align-items-center mb-2 gap-2">
                  <img
                    class="bookmark-btn"
                    src="../assets/images/icon/schedule-outline-rounded.svg"
                    alt="bookmark_default.svg"
                  />
                  2025-07-28 19:00
                </li>
                <li class="d-flex align-items-center mb-2 gap-2">
                  <img
                    class="bookmark-btn"
                    src="../assets/images/icon/location-on-outline-rounded.svg"
                    alt="bookmark_default.svg"
                  />
                  台北市,大安區
                </li>
                <li class="d-flex align-items-center gap-2">
                  <img
                    class="bookmark-btn"
                    src="../assets/images/icon/person-outline-rounded.svg"
                    alt="bookmark_default.svg"
                  />
                  6 人
                </li>
              </ul>
            </section>

            <section class="mb-4">
              <h2 class="mb-2 t1b">地點描述</h2>
              <p class="t2 text-n500">
                這間餐酒館融合精緻料理與創意調酒，提供溫暖微醺的用餐體驗。主廚菜色講究，酒單多元，從經典到自創特調一應俱全。
              </p>
            </section>
            <!-- 報名截止 -->
            <section class="mb-4">
              <h2 class="mb-2 t1b">報名截止</h2>
              <p class="t2 text-n500">2025-07-26 19:00</p>
            </section>
            <!-- 活動說明 -->
            <section class="mb-4">
              <h2 class="t3b mb-2 t1b">活動說明</h2>
              <p class="t2 text-n500">
                這間餐酒館融合精緻料理與創意調酒，提供溫暖微醺的用餐體驗。主廚菜色講究，酒單多元，從經典到自創特調一應俱全。這間餐酒館融合精緻料理與創意調酒，提供溫暖微醺的用餐體驗。主廚菜色講究，酒單多元，從經典到自創特調一應俱全。
              </p>
            </section>

            <!-- 已報名人員 -->
            <section class="mb-4">
              <h2 class="t2b mb-2 text-t500 h4 fw-bold">報名者</h2>
              <div class="d-flex align-items-center">
                <img
                  src="../assets/images/event/報名者-01.svg"
                  class="avatar-sm me-1"
                />
                <img
                  src="../assets/images/event/報名者-02.svg"
                  class="avatar-sm me-1"
                />
                <img
                  src="../assets/images/event/報名者-03.svg"
                  class="avatar-sm me-1"
                />
                <img
                  src="../assets/images/event/報名者-04.svg"
                  class="avatar-sm me-1"
                />
                <img
                  src="../assets/images/event/報名者-05.svg"
                  class="avatar-sm me-1"
                />
                <span class="t2b text-p500 bg-white morepeople">+8 人</span>
              </div>
            </section>
            <!-- 報名按鈕加上 id 方便選取 -->
            <div>
              <button id="signupBtn" class="btn btn-primary w-100 rounded-pill">
                我要報名
              </button>
            </div>
          </div>
        </main>
      </div>
    </div>

    <script type="module" src="../main.js"></script>
    <script>
      document
        .getElementById("signupBtn")
        .addEventListener("click", function () {
          this.disabled = true;
          this.textContent = "審核中";
          Swal.fire({
            icon: "success",
            title: "已成功報名活動，等待審核",
            showConfirmButton: false,
            timer: 2000,
          });
        });

      document
        .querySelector('.ai-topbar-item img[src*="share-rounded"]')
        .parentElement.addEventListener("click", function (e) {
          e.preventDefault();
          if (navigator.share) {
            navigator.share({
              title: "來一口微醺 再認識你",
              text: "一起參加這場有趣的聚會活動吧！",
              url: window.location.href,
            });
          } else {
            // 若瀏覽器不支援，可用 SweetAlert2 提示
            Swal.fire({
              icon: "info",
              title: "請使用手機瀏覽器分享",
              text: "您的瀏覽器暫不支援原生分享功能",
              timer: 2000,
              showConfirmButton: false,
            });
          }
        });

      document.addEventListener("DOMContentLoaded", function () {
        const collectBtnNav = document.querySelector(
          'img[alt="bookmark_default.svg"]'
        );
        const collectBtnActive = document.querySelector(
          'img[alt="bookmark_active.svg"]'
        );

        // 預設只顯示未收藏
        collectBtnNav.style.display = "";
        collectBtnActive.style.display = "none";

        // 點擊未收藏 -> 顯示已收藏
        collectBtnNav.addEventListener("click", function () {
          collectBtnNav.style.display = "none";
          collectBtnActive.style.display = "";
        });

        // 點擊已收藏 -> 顯示未收藏
        collectBtnActive.addEventListener("click", function () {
          collectBtnActive.style.display = "none";
          collectBtnNav.style.display = "";
        });
      });
    </script>
  </body>
</html>
